<!DOCTYPE html>
<html lang="id">

<div class="video-bg">
  <video autoplay loop muted playsinline>
    <source src="textures/background.mp4" type="video/mp4">
  </video>
</div>

<head>
  <meta charset="UTF-8">
  <title>Resilience SMP â€” Store</title>
  <link rel="stylesheet" href="style.css">
</head>

<script>
function copyIP() {
  const text = document.getElementById("serverIp").innerText;
  navigator.clipboard.writeText(text);
}
</script>

<body>

<header class="site-header">
  <img src="textures/logo.png" class="site-logo" alt="Resilence SMP Logo">

  <h1>Resilence SMP</h1>
  <div class="page-title">Store</div>
  <div class="ip-copy">
  <span id="serverIp" class="ip-text">play.resilence.net</span>
  <button class="ip-copy-btn" onclick="copyIP()" aria-label="Salin IP">ðŸ“‹</button>
</div>

</header>

<nav>
  <a href="home.html">Home</a>
  <a href="changelog.html">Changelog</a>
  <a href="news.html">News</a>
  <a href="store.html">Store</a>
  <a href="support.html">Support</a>
</nav>

<div class="container">
  <p>Pembaruan rank, item, dan bug fix.</p>
  <!-- USER FORM -->
  <div class="store-form">
    <input type="text" id="nickname" class="input-box" placeholder="Insert Nickname">

    <select id="admin" class="input-box">
      <option value="">Select Admin</option>
      <option value="+6283817186902">Leazent</option>
      <option value="+6285720103106">RyzGanz</option>
    </select>

    <select id="payment" class="input-box">
      <option value="">Payment Method</option>
      <option value="GoPay">GoPay</option>
      <option value="OVO">OVO</option>
      <option value="DANA">DANA</option>
      <option value="Bank Transfer">Bank Transfer</option>
    </select>
  </div>

  <!-- PRODUCTS -->
  <div class="store-grid">

    <div class="card">
      <img src="https://img.redbull.com/images/c_limit,w_1500,h_1000,f_auto,q_auto/redbullcom/2020/4/28/bjoyslzjb3uxqyg82uz2/minecraft" alt="Angel Particle">
      <h3>Placeholder</h3>
      <p class="price" data-price="1000">info</p>
      <button class="buy-btn" data-product="id001" data-price="1000">Rp 1.000</button>
    </div>

    <div class="card">
      <img src="https://img.redbull.com/images/c_limit,w_1500,h_1000,f_auto,q_auto/redbullcom/2020/4/28/bjoyslzjb3uxqyg82uz2/minecraft" alt="Demon Particle">
      <h3>Placeholder</h3>
      <p class="price" data-price="2000">info</p>
      <button class="buy-btn" data-product="id002" data-price="2000">Rp 2.000</button>
    </div>

    <div class="card">
      <img src="https://img.redbull.com/images/c_limit,w_1500,h_1000,f_auto,q_auto/redbullcom/2020/4/28/bjoyslzjb3uxqyg82uz2/minecraft" alt="Star Particle">
      <h3>Placeholder</h3>
      <p class="price" data-price="3000">info</p>
      <button class="buy-btn" data-product="id003" data-price="3000">Rp 3.000</button>
    </div>

    <div class="card">
      <img src="https://img.redbull.com/images/c_limit,w_1500,h_1000,f_auto,q_auto/redbullcom/2020/4/28/bjoyslzjb3uxqyg82uz2/minecraft" alt="Love Particle">
      <h3>Placeholder</h3>
      <p class="price" data-price="4000">info</p>
      <button class="buy-btn" data-product="id004" data-price="4000">Rp 4.000</button>
    </div>

    <div class="card">
      <img src="https://img.redbull.com/images/c_limit,w_1500,h_1000,f_auto,q_auto/redbullcom/2020/4/28/bjoyslzjb3uxqyg82uz2/minecraft" alt="Green Particle">
      <h3>Placeholder</h3>
      <p class="price" data-price="5000">info</p>
      <button class="buy-btn" data-product="id005" data-price="5000">Rp 5.000</button>
    </div>

  </div>
</div>

<footer>
  &copy; 2025 Resilence SMP
</footer>

<script>
  function generateCode(length = 8) {
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    return Array.from({ length }, () => chars[Math.floor(Math.random() * chars.length)]).join('');
  }

  function getTodayDate() {
    const d = new Date();
    const day = String(d.getDate()).padStart(2, '0');
    const month = String(d.getMonth() + 1).padStart(2, '0');
    const year = d.getFullYear();
    return `${day}/${month}/${year}`;
  }

  document.querySelectorAll(".buy-btn").forEach(button => {
    button.addEventListener("click", () => {

      const nickname = document.getElementById("nickname").value.trim();
      const admin = document.getElementById("admin").value;
      const payment = document.getElementById("payment").value;
      const product = button.dataset.product;
      const price = button.dataset.price;
      const code = generateCode();
      const date = getTodayDate();

      if (!nickname || !admin || !payment) {
        alert("Silakan isi nickname, pilih admin, dan metode payment terlebih dahulu!");
        return;
      }

      const message =
`Nickname: ${nickname}
Product: ${product}
Date: ${date}
Code: ${code}
Price: Rp ${price}`;

      const waLink = `https://wa.me/${admin}?text=${encodeURIComponent(message)}`;
      window.open(waLink, "_blank");

    });
  });
</script>

</body>
</html>
